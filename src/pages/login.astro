---
import Layout from "../layouts/Layout.astro";
import { LoginForm } from "../components/auth/LoginForm";
import { supabaseClient } from "@/db/supabase.client";

// Przekieruj zalogowanych użytkowników
const {
  data: { session },
} = await supabaseClient.auth.getSession();
if (session) {
  return Astro.redirect("/generate");
}
---

<Layout title="Login">
  <main class="container mx-auto py-8 px-4">
    <h1 class="text-3xl font-bold mb-8">Login to 10x Cards</h1>
    <div class="max-w-3xl mx-auto">
      <LoginForm client:load />
    </div>
  </main>
</Layout>
